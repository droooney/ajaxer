!function(){"use strict";function e(e){return $.call(e).slice(8,-1)}function t(t){return"function"==typeof t||"Function"===e(t)}function n(e){return("undefined"==typeof e?"undefined":y(e))&&("object"===("undefined"==typeof e?"undefined":y(e))||t(e))}function r(e){return null===e||/^(number|string|boolean|symbol|undefined)$/.test("undefined"==typeof e?"undefined":y(e))}function o(t){return"String"===e(t)}function u(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i(n,function(t){i(t,function(t,n){e[n]=t})}),e}function i(e,t){var n=E(e),r=0,o=e||{},u=o.length;for(var i in e)if(T.call(e,i)){if(n&&r++>=u)break;t(e[i],n?+i:i,e)}}function a(e,t){var n=E(e)?[]:{};return i(e,function(r,o){n[o]=t(r,o,e)}),n}function f(e){return e.replace(k,"")}function s(e,t,n){return e.split(t).join(n)}function c(e){if(r(e)||t(e))return e;var n=E(e)?[]:{};return i(e,function(e,t){n[t]=c(e)}),n}function l(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return i(n,function(t){i(t,function(t,n){return r(t)||!T.call(e,n)?void(e[n]=c(t)):void(r(e[n])||l(e[n],t))})}),e}function d(e,t){return T.call(e,t)}function h(e){return S.test(e)}function v(e){return encodeURIComponent(e)}function p(e,t){switch(!0){case E(e):var r=function(){var r=[];return i(e,function(e){return n(e)?r.push.apply(r,R(p(e,t+"[]"))):void r.push({param:t+"[]",value:e})}),{v:r}}();if("object"===("undefined"==typeof r?"undefined":y(r)))return r.v;case n(e):var o=function(){var r=[];return i(e,function(e,o){return n(e)?void r.push.apply(r,R(p(e,t?t+"["+o+"]":o))):void r.push({param:t?t+"["+o+"]":o,value:String(e)})}),{v:r}}();if("object"===("undefined"==typeof o?"undefined":y(o)))return o.v;default:return q}}var y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},w=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},O=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},R=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},j={},T=j.hasOwnProperty,$=j.toString,k=/^\s*|\s*$/g,E=Array.isArray||function(t){return"Array"===e(t)},S=/^(([a-z][a-z\d+\-.]*:)?\/\/|data:[a-z]+\/[a-z]+;base64,)/i,q=[],x=function(e,t,n,r){var o=h(t)?t:String(e).replace(/\/+$/,"")+"/"+String(t).replace(/^\/+/,"");i(n,function(e,t){o=s(o,":"+t,v(e))});var u=p(r,"");if(u.length){var f=o.indexOf("?")===-1?"?":"&",c=a(u,function(e){var t=e.param,n=e.value;return v(t)+"="+v(n)}).join("&");o+=f+c}return o},A=function(e){var t={};return i((e||"").split("\n"),function(e){var n=e.indexOf(":"),r=f(e.substring(0,n)),o=f(e.substring(n+1));r&&(t[r]=(t[r]?t[r]+", ":"")+o)}),t},P=["FormData","File","Blob","ArrayBuffer","String","Number"],_=["DELETE","GET","HEAD"],C=function(t,r,o){return _.indexOf(r)!==-1?null:n(t)&&P.indexOf(e(t))===-1?(o["Content-Type"]||(o["Content-Type"]="application/json;charset=utf-8"),JSON.stringify(t)):t},U={after:[],auth:{username:"",password:""},baseURL:window.location.origin,before:[],data:null,headers:{},method:"get",params:{},query:{},responseType:"",timeout:0,url:"",withCredentials:!1},N=["POST","PUT"],z=void 0,F=function(e){function n(){function e(){return e.request.apply(e,arguments)}var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};g(this,n);var o=O(this,(n.__proto__||Object.getPrototypeOf(n)).call(this)),u=l({},U,r);return Object.defineProperty(e,"$$",{value:u}),Object.setPrototypeOf(e,n.prototype),t=e,O(o,t)}return w(n,e),b(n,null,[{key:"usePromise",value:function(e){z=e}}]),b(n,[{key:"after",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e=this.$$.after;return n?e.push(t):e.unshift(t),this}},{key:"before",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e=this.$$.before;return n?e.unshift(t):e.push(t),this}},{key:"config",value:function e(n,r){var e=this.$$;return arguments.length?(t(n)?n(e):(arguments.length>=2&&(n=m({},n,r)),l(e,n)),this):e}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(e)||(t=e,e=void 0),this.request(e,u({method:"delete"},t))}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(e)||(t=e,e=void 0),this.request(e,u({method:"get"},t))}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(e)||(t=e,e=void 0),this.request(e,u({method:"head"},t))}},{key:"headers",value:function e(t,n){var e=this.$$.headers;return arguments.length>=2&&(t=m({},t,n)),i(t,function(t,n){e[n]=t}),this}},{key:"instance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d(e,"data")?{data:e.data}:{};delete e.data;var r=u(l({},this.$$,e),t);return new n(r)}},{key:"patch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return arguments.length&&!o(e)&&(n=t,t=e,e=void 0),this.request(e,u({method:"patch",data:t},n))}},{key:"post",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return arguments.length&&!o(e)&&(n=t,t=e,e=void 0),this.request(e,u({method:"post",data:t},n))}},{key:"put",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return arguments.length&&!o(e)&&(n=t,t=e,e=void 0),this.request(e,u({method:"put",data:t},n))}},{key:"request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};1!==arguments.length||o(e)||(t=e);var n=d(t,"data")?{data:t.data}:{},r=o(e)?{url:e}:{};delete t.data;var a=u(l(c(this.$$),r,t),n),f=void 0,s=z.resolve();return i(a.before,function(e){s=s.then(function(){return e.length>=2?z.resolve():new z(function(t){t(e(a))})},function(t){return e.length<2?z.reject(t):new z(function(n){n(e(t,a))})})}),s=s.then(function(){return new z(function(e,t){var n=a.after,r=a.auth,o=r.username,u=r.password,s=a.baseURL,c=a.data,l=a.headers,d=a.method,h=a.onprogress,v=a.params,p=a.query,y=a.responseType,g=a.timeout,b=a.url,m=a.withCredentials,w=d.toUpperCase(),O=x(s,b,v,p),R=C(c,w,l);f=new XMLHttpRequest,f.open(w,O,!0,o,u),i(l,function(e,t){f.setRequestHeader(t,e)}),h&&(N.indexOf(d)===-1?f.onprogress=h:f.upload.onprogress=h),f.onabort=function(){var e=new Error("Request was aborted");e.type="ABORT_ERROR",t(e),f=null},f.onerror=function(){var e=new Error("Network error");e.type="NETWORK_ERROR",t(e),f=null},f.ontimeout=function(){var e=new Error("Request time exceeded");e.type="TIMEOUT_ERROR",t(e),f=null},f.onreadystatechange=function(){if(f&&f.status&&4===f.readyState){var t={config:a,data:y&&"text"!==y?f.response:f.responseText,headers:A(f.getAllResponseHeaders()),status:1223===f.status?204:f.status,statusText:1223===f.status?"No Content":f.statusText,xhr:f},r=z.resolve();i(n,function(e){r=r.then(function(){return e.length>=2?z.resolve():new z(function(n){n(e(t))})},function(n){return e.length<2?z.reject(n):new z(function(r){r(e(n,t))})})}),e(r.then(function(){return t}).catch(function(e){try{e.response=t}catch(t){throw e}throw e}))}},f.responseType=y,f.timeout=+g||0,f.withCredentials=!!m,f.send(R)})}),s.abort=function(){return f&&f.abort(),this},s}}]),n}(Function),H=new F;window.Ajaxer=F,window.ajaxer=H}();
//# sourceMappingURL=ajaxer.min.js.map
